# ねるちゃん Bot 使い方ガイド

ねるちゃんは、Discord 上でカスタムコマンドを登録・実行できる Bot です。

## 目次

- [コマンド一覧](#コマンド一覧)
- [テキストコマンドの登録](#テキストコマンドの登録)
- [コードコマンドの登録](#コードコマンドの登録)
- [コマンドの実行](#コマンドの実行)
- [利用可能な変数](#利用可能な変数)
- [コードの書き方](#コードの書き方)

---

## コマンド一覧

| コマンド                               | 説明                   |
| -------------------------------------- | ---------------------- |
| `!register <コマンド名> <テキスト>`    | テキストコマンドを登録 |
| `!register_code <コマンド名> <コード>` | コードコマンドを登録   |
| `!<コマンド名> [引数...]`              | 登録したコマンドを実行 |

---

## テキストコマンドの登録

`!register` コマンドで、シンプルなテキストコマンドを登録できます。

### 構文

```
!register <コマンド名> <テキスト>
```

### 例

```
!register hello こんにちは！
```

上記を実行すると、`hello` というコマンドが登録されます。その後、チャットで `hello` と入力すると、Bot が「こんにちは！」と返答します。

---

## コードコマンドの登録

`!register_code` コマンドで、Python コードを含むコマンドを登録できます。

### 構文

```
!register_code <コマンド名> <コード>
```

### 例

**シンプルな例：**

```
!register_code greet print("Hello, World!")
```

**バッククォートを使った例：**

````
!register_code dice
```python
import random
print(random.randint(1, 6))
```
````

**変数を使った例：**

````
!register_code welcome
```python
print(f"ようこそ、{username}さん！")
```
````

---

## コマンドの実行

### コードコマンドの実行

登録したコードコマンドは `!` プレフィックスを付けて実行します。

```
!dice
```

引数を渡すこともできます：

```
!mycommand arg1 arg2 arg3
```

### テキストコマンドの実行

登録したテキストコマンドは、プレフィックスなしでコマンド名を入力するだけで実行できます。

```
hello
```

---

## 利用可能な変数

コードコマンド内では、以下の変数が自動的に利用可能です：

| 変数名                      | 説明                                       |
| --------------------------- | ------------------------------------------ |
| `username`                  | コマンドを実行したユーザーの表示名         |
| `user_id`                   | コマンドを実行したユーザーの Discord ID    |
| `user_avatar`               | コマンドを実行したユーザーのアバター ID    |
| `arg1`, `arg2`, `arg3`, ... | コマンドに渡された引数（1 から始まる連番） |

### 変数の使用例

````
!register_code profile
```python
print(f"ユーザー名: {username}")
print(f"ユーザーID: {user_id}")
```
````

引数を使った例：

````
!register_code add
```python
result = int(arg1) + int(arg2)
print(f"{arg1} + {arg2} = {result}")
```
````

実行：

```
!add 10 20
```

出力：

```
10 + 20 = 30
```

---

## コードの書き方

コードは以下の形式で記述できます：

### 1. プレーンテキスト

```
!register_code test print("hello")
```

### 2. シングルバッククォート

```
!register_code test `print("hello")`
```

### 3. トリプルバッククォート（言語指定あり）

````
!register_code test
```python
print("hello")
```
````

### 4. トリプルバッククォート（言語指定なし）

````
!register_code test
```
print("hello")
```
````

---

## 注意事項

- 同じ名前のコマンドを重複して登録することはできません
- コードコマンドはサンドボックス環境で実行されます
- 実行結果は標準出力（`print`文）で出力されます
